{% extends 'base.html' %}

{% block content %}
<div class="card mx-auto" >
  <div class="card-body">
    <h5 class="card-title mb-3 text-dark fw-bold">All ticket</h5>
    <table class="table table-bordered" style="overflow-x: auto">
      <thead>
        <th scope="col">Ticket ID</th>
        <th scope="col">Title</th>
        <th scope="col">Created On</th>
        <th scope="col">Assigned to</th>
        <th scope="col">Status</th>
        <th scope="col">Action</th>
<!--        <th scope="col">Action</th>-->
      </thead>
      <tbody>
        {% for ticket in tickets %}
          <tr>
            <td><small>{{ ticket.ticket_number }}</small></td>
            <td><small>{{ ticket.title }}</small></td>
            <td><small>{{ ticket.date_created }}</small></td>

            {% if ticket.assigned_to %}
              <td><small>{{ ticket.assigned_to }}</small></td>
            {% else %}
               <td><small>Not Assigned</small></td>
            {% endif %}
             {% if ticket.ticket_status == 'Active' %}
              <td><span class="badge bg-success">Active</span></td>
            {% elif ticket.ticket_status == 'Pending' %}
              <td><span class="badge bg-warning">Pending</span></td>
            {% elif ticket.ticket_status == 'Completed' %}
              <td><span class="badge bg-danger">Completed</span></td>
            {% endif %}
            <td><a class href="{% url 'ticket-details' ticket.pk %}">View Details</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock content %}
